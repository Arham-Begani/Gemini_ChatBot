<!DOCTYPE html>
<html>
    <head>
        <title>Chatbot with PyScript</title>

        <head>
            <title>Chatbot with PyScript</title>
            <link rel="stylesheet" href="https://pyscript.net/releases/2025.8.1/core.css">

            <script type="module" src="https://pyscript.net/releases/2025.8.1/core.js"></script>

            <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
        </head>
    </head>

    <body>
        <div class="chat-container">
            <h1>Gemini Chatbot</h1>
            <div id="chat-box"></div>
            <input id="user-input" type="text" placeholder="Type your message..." />
            <button id="send-btn" py-click="send_message">Send</button>
        </div>

        <py-script>
            import js
            import json
            from pyscript import fetch

            async def send_message(*args):
                input_el = js.document.getElementById("user-input")
                msg = input_el.value
                if not msg:
                    return
                chat_box = js.document.getElementById("chat-box")
                chat_box.innerHTML += f'<div class="user">You: {msg}</div>'
                input_el.value = ""

        </py-script>

    </body>

</html>